{% extends "web/_base.html" %}
{% load static %}

{% block content %}
<section class="card p-6 space-y-4">
  <h2 class="text-xl font-semibold">Reportes</h2>
  <p class="text-sm text-gray-500 mt-1">Genera y descarga reportes con filtros y totales.</p>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
    <button class="btn" data-scope="diario"  data-fmt="xlsx">游늯 Generar reporte diario</button>
    <button class="btn" data-scope="semanal" data-fmt="xlsx">游늵 Generar reporte semanal</button>
    <button class="btn" data-scope="mensual" data-fmt="xlsx">游늳 Generar reporte mensual</button>
  </div>

  <div class="card p-4">
    <div class="border-b pb-2 mb-2 font-medium">C칩mo funciona</div>
    <p class="text-sm text-gray-600">
      Cada bot칩n consulta <code>/api/reportes/export/</code> y descarga un archivo listo para Excel.
      Por defecto baja <strong>XLSX</strong> (si el servidor no tiene <code>openpyxl</code>, se entrega <strong>CSV</strong>).
      Puedes cambiar a CSV pasando <code>data-fmt="csv"</code> en el bot칩n.
    </p>
  </div>
</section>

<!-- OJO: el archivo est치 en web/static/reportes_botones.js -->
<script src="{% static 'reportes_botones.js' %}"></script>

<style>
  .btn { @apply inline-flex items-center justify-center h-11 rounded-lg bg-green-800 text-white px-4 font-medium hover:bg-green-900; }
  .card { @apply rounded-xl bg-white shadow; }
</style>
{% endblock %}
